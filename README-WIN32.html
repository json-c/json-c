<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<title>JSON-C - A JSON implementation in C - Win32 specific notes</title>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	</head>
	<body>
		<h2>Windows specific notes for JSON-C</h2>
		<p>Please send Win32 bug reports to <a href="mailto:christopher.watford@gmail.com">christopher.watford@gmail.com</a></p>

		<h3>Win32 Specific Changes</h3>
		<ul>
			<li>
				Various functions have been redefined to their Win32 version (i.e. <code>open</code>
				on win32 is <code>_open</code>)</li>
			<li>
				Implemented missing functions from MS's libc (i.e. <code>vasprintf</code> and <code>strndup</code>)</li>
			<li>
				Added code to allow Win64 support without integer resizing issues, this 
				probably makes it much nicer on 64bit machines everywhere (i.e. using <code>ptrdiff_t</code>
				for pointer math)</li>
		</ul>

		<h3>Porting Changelog</h3>
		<dl>
			<dt><code>printbuf.c</code> - C. Watford (christopher.watford@gmail.com)</dt>
			<dd>
				Added a Win32/Win64 compliant implementation of <code>vasprintf</code></dd>
			<dt><code>debug.c</code> - C. Watford (christopher.watford@gmail.com)</dt>
			<dd>
				Removed usage of <code>vsyslog</code> on Win32/Win64 systems, needs to be handled 
				by a configure script</dd>
			<dt><code>json_object.c</code> - C. Watford (christopher.watford@gmail.com)</dt>
			<dd>
				Added scope operator to wrap usage of <code>json_object_object_foreach</code>, this needs to be
				rethought to be more ANSI C friendly</dd>
			<dt><code>json_object.h</code> - C. Watford (christopher.watford@gmail.com)</dt>
			<dd>
				Added Microsoft C friendly version of <code>json_object_object_foreach</code></dd>
			<dt><code>json_tokener.c</code> - C. Watford (christopher.watford@gmail.com)</dt>
			<dd>
				Added a Win32/Win64 compliant implementation of <code>strndup</code></dd>
			<dt><code>json_util.c</code> - C. Watford (christopher.watford@gmail.com)</dt>
			<dd>
				Added cast and mask to suffice <code>size_t</code> v. <code>unsigned int</code>
				conversion correctness</dd>
		</dl>

		<h3><a href="COPYING">License</a></h3>
		<p>This program is free software; you can redistribute it and/or modify it under the terms of the MIT License.</p>

		<hr />
	</body>
</html>
